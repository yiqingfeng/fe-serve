!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["fe-core"]=t()}(this,(function(){"use strict";function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(r){t(e,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var i=n({},{});function o(e){var t=Number(e);return isNaN(t)&&(t=0),t}function a(){for(var e=[],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){var r;try{r=String(t).split(".")[1].length}catch(e){r=0}e.push(r)})),Math.max.apply(Math,e)}function u(){for(var e=0,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){var r;try{r=String(t).split(".")[1].length}catch(e){r=0}e+=r})),e}var f=["+","-","*","/","(",")"];function c(e,t){var r=Math.pow(10,t);return(Math.round(10*r*e/10)/r).toFixed(t)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=o(e);return isNaN(t)||t<0?r:c(r,t)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,n=o(e),i=o(t),u=a(n,i),f=Math.pow(10,u),c=(p(n,f)+p(i,f))/f;return h(c,r)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,n=s(o(e),-o(t));return h(n,r)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,n=o(e),i=o(t),a=Math.pow(10,u(n,i)),f=o(String(n).replace(".",""))*o(String(i).replace(".",""))/a;return h(f,r)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,n=o(e),i=o(t),u=a(n,i),f=Math.pow(10,u),c=p(e,f)/p(t,f);return h(c,r)}var g={setNumberDecimal:h,addCalc:s,subCalc:l,mulCalc:p,divCalc:v,expCalc:function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[];return e.forEach((function(e){if(-1===f.indexOf(String(e)))return r.push(+e);var n=r.pop(),i=r.pop();switch(e){case"+":r.push(s(i,n,t));break;case"-":r.push(l(i,n,t));break;case"*":r.push(p(i,n,t));break;case"/":r.push(v(i,n,t))}})),r.pop()}(function(e){var t=[],r=[],n=function(e){return"+"===e||"-"===e};for(e.forEach((function(e){var i=String(e);if(-1!==f.indexOf(i))for(;1;){if(0===r.length||"("===e){r.push(i);break}var o=r.pop();if(")"===e){if("("!==o){t.push(o);continue}break}if("("===o){r.push(o,i);break}if(!n(e)||n(o)){r.push(o,i);break}t.push(o)}else t.push(+e)}));r.length;){var i=r.pop();"("!==i&&t.push(i)}return t}(function(e){if(Array.isArray(e))return e.map((function(e){var t=String(e);return-1===f.indexOf(t)?o(t):t}));for(var t=[],r="",n=0;n<e.length;n++)-1!==f.indexOf(e[n])?(r=r.trim(),"-"!==e[n]||r?"("!==e[n]&&")"!==t[t.length-1]?(t.push(o(r),e[n]),r=""):(t.push(e[n]),r=""):r+=e[n]):r+=e[n];return r&&t.push(o(r)),t}(e)))}},y=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._events={}}var r,n,i;return r=t,(n=[{key:"$on",value:function(e,t){var r=this;return Array.isArray(e)?e.forEach((function(e){r.$on(e,t)})):(this._events[e]||(this._events[e]=[])).push(t),this}},{key:"$once",value:function(e,t){var r=this;return this.$on(e,(function n(){r.$off(e,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];t.apply(r,o)}))}},{key:"$off",value:function(e,t){var r=this;if(!e)return this._events={},this;if(Array.isArray(e))return e.forEach((function(e){r.$off(e,t)})),this;var n=this._events[e];if(!n)return this;if(t){var i=n.indexOf(t);i>-1&&n.splice(i,1)}else delete this._events[e];return this}},{key:"$emit",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=this._events[e];o&&o.forEach((function(e){e.apply(t,n)}));var a=e.split(":");return a.length>1&&this.$emit.apply(this,[a[0]].concat(n)),this}}])&&e(r.prototype,n),i&&e(r,i),t}();return n(n(n({},i),g),{},{EventBus:y})}));
